# Sign The Program

Полезный набор инструментов, для подписания программ в Windows.</br>

Краткая инструкция:</br>

### Содержимое:
- `build/` - Папка сборки и инструментов.
  - `out/` - Папка, которая создаётся при создании сертификата. В ней находятся сами сертификаты, а также ключи и прочее.
  - `tools/` - Папка с инструментами, необходимыми для генерации сертификатов и подписывание программы.
  - `config.json` - Файл конфигурации генерации сертификата и подписывание программы.
- `src/` - Содержит скрипты для генерации сертификата и подписывания программы.
- `create_certificate.bat` - Запустить создание сертификата.
- `sign_program.bat` - Подписать программу созданным сертификатом.

### Файл конфигурации:

Выглядит примерно так:
```json
{
    "organization":      "Your Organization",
    "organization-unit": "Development Unit",
    "common-name":       "OrgNameOrProgramName",
    "password":          "",
    "days":              365,
    "newkey":            "rsa:4096",
    "country":           "RU",
    "state-or-region":   "Moscow",
    "locality":          "Moscow",
    "email-address":     "",
    "openssl-config":    "build/tools/openssl.cnf",
    "target-program":    "app.exe",
    "fd":                "SHA256",
    "flags": [
        "-x509", "-sha256", "-nodes"
    ]
}
```

Думаю тут и так всё понятно и пояснять не надо. Просто измените поля под себя и заполните пустые поля при необходимости.

### Как подписывать программу?

1. Настройте файл конфигурации `build/config.json`. Обязательно укажите, чтобы `"target-program"` имел значение полного названия вашей программы. Например: `"My Program.exe"`</br>
2. Положите вашу программу в корень этой утилиты (в корневую директорию, где лежат папки `build`, `src`, и файлы `create_certificate.bat` и `sign_program.bat`).</br>
3. Для создания сертификата, запустите файл `create_certificate.bat` и дождитесь окончания процесса.</br>
4. Для подписания программы, убедитесь что программа лежит в корневой директории, и в конфигурации указано правильное название программы (вместе с его расширением). После этого, запустите файл `sign_program.bat`.</br>

В случае, если вы получите примерно следующее:</br>
<img width="382" height="89" alt="image" src="https://github.com/user-attachments/assets/d95ca028-8e74-4d34-9ef1-d90f79b183c8" /></br>
Значит вы неправильно указали программу в конфиге, или не добавили её в корневую папку этой утилиты.</br></br>

> [!NOTE]
> Имейте в виду, что создание своих сертификатов, не означает что они будут официальными. Программа должна быть подписана официальными сертификатами из центров выдачи сертификатов, чтобы Windows не ругалась что сертификат не подтвержден:
> <img width="803" height="477" alt="image" src="https://github.com/user-attachments/assets/27f9db93-82bf-4396-ad55-30fd4dc5209d" />

### В чем смысл тогда?

Полезно иногда подписать свою программу. Обычно, виндовс более мягче относится к таким программам. А ну и ещё, можно официально закрепить авторство и производство этой программы, в её свойствах (типа не No Name производитель, а хоть какой-то).

#

### Связь со мной:
#### [Telegram](https://t.me/mr_lukov)
